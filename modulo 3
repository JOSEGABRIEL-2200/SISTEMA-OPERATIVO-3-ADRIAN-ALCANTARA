laboratorio 3

práctica 1
punto 1

sudo nano etc/default/grub
Cambiar (o agregar si no está) la línea:
GRUB_TIMEOUT=20


sudo update grub
sudo reboot


punto 2
le damos a la letra e
en linux al final ponemos init=/bin/bash
para remontar el sistema de archivo raíz 
mount -o remount,rw /
nano etc/shadow

buscamos el usuario al que le cambiaremos la contraseña 
borramos desde el primer dos puntos hasta el siguiente dos puntos
ctrl x y
passwd gabriel
iniciamos el proceso init
exec /sbin/init


práctica 2

punto 1
primero que nada accedemos a la carpeta que creé para guardar los scrips
cd /home/gabriel/scripts

creamos el adriático
nano backup.sh

#! /bin/bash

fecha=$(date +"%d-%m-%Y:%H: %M* )
carpeta_origen="/home/gabriel* backup_destino="/home/gabriel/backups/backup_$fecha.tar.gz"

sudo mkdir -p /home/gabriel/backups tar -czvfe"$backup_destino" "$carpeta origen"
echo "BACKUP CREADO EN: $backup_destino"

./backup.sh


punto 2
cd /home/gabriel/scripts
touch copiar_ifconfig.sh
nano copiar_ifconfig.sh
#! /bin/bash

echo "Ingrese el nombre del archivo(sin extension):* read nombre_archivo
ruta_archivo=*/home/michelle20241430/Desktop/$(nombre_archivo}.txt"
ifconfig > "$ruta_archivo"
echo *EL RESULTADO DE IFCONFIG SE HA GUARDADO EN: Sruta_archivo"

chmod +x copiar_ifconfig.sh
./copiar_ifconfig.sh
ifconfig_backup

nano copiar_ifconfig.sh 

Práctica 3: SSH y Llaves Pública/Privada
Paso 1: Configurar Red en modo Bridge (Puente)
En VirtualBox/VMware: Apaga la VM. Ve a Configuración > Red.

Cambia "NAT" a "Adaptador Puente" (Bridged Adapter). Selecciona tu tarjeta de red física (la que te da internet en Windows).

Enciende la VM.

En Kali, verifica tu IP: ip a. Debería ser una IP del mismo rango que tu Windows (ej. 192.168.1.x).

Prueba de Ping (desde Windows): Abre CMD en Windows y escribe ping <IP_DE_KALI>. Si responde, tienes conexión.

Paso 2: Habilitar SSH en Kali
En la terminal de Kali:

Bash

sudo systemctl enable ssh
sudo systemctl start ssh
sudo systemctl status ssh


Prueba inicial: Desde CMD o PowerShell en Windows: ssh tu_usuario_kali@ip_de_kali (Te pedirá contraseña).

 Generar Llaves en Windows
Abre PowerShell o CMD en Windows.

comando

ssh-keygen -t rsa
Te preguntará dónde guardarla. Presiona Enter (para dejar la ruta por defecto).

Te pedirá "Passphrase". Déjalo en blanco (presiona Enter dos veces).

Esto creará dos archivos en C:\Users\TuUsuario\.ssh\: id_rsa (privada) y id_rsa.pub (pública).

 Copiar la llave pública al servidor (Kali)
Dado que Windows no siempre trae el comando ssh-copy-id por defecto, usaremos este comando en PowerShell para enviar la llave:

Reemplaza usuario por tu usuario de Kali y ip_de_kali por la IP:

 Prueba Final (Login sin contraseña)
Desde PowerShell en Windows, intenta conectar de nuevo:



ssh usuario@ip_de_kali
